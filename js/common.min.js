const squares=document.querySelector(".squares");let monitorWidth=window.innerWidth,monitorHeight=window.innerHeight,squareSize=calculateSquareSize(monitorWidth,monitorHeight);const RESIZE_DEBOUNCE_DELAY=200;function calculateSquareSize(e,t){let r=20;for(;r>0&&r<=50;){if(e%r==0&&t%r==0&&Math.floor(width/r)===Math.floor(height/r))return r;r++}return 20}function calculateSquareAmount(e,t,r){return Math.floor(e/r)*Math.floor(t/r)}function createSquares(e,t){const r=document.createDocumentFragment();for(let e=0;e<t;e++){const e=document.createElement("div");e.className="square",e.style.width=`${squareSize}px`,e.style.height=`${squareSize}px`,r.appendChild(e)}e.appendChild(r)}function setupSquareEvents(){squares.addEventListener("mouseover",(e=>{e.target.classList.contains("square")&&e.target.style.setProperty("--bg-color",createRGB())})),squares.addEventListener("mouseout",(e=>{e.target.classList.contains("square")&&e.target.style.setProperty("--bg-color","#222222")}))}let amountOfSquares=calculateSquareAmount(monitorWidth,monitorHeight,squareSize);function createRGB(){return`rgb(${getRandomNumber(0,255)}, ${getRandomNumber(0,255)}, ${getRandomNumber(0,255)})`}function getRandomNumber(e,t){return Math.floor(Math.random()*(t-e+1))+e}function debounce(e,t){let r;return function(...n){clearTimeout(r),r=setTimeout((()=>e.apply(this,n)),t)}}createSquares(squares,amountOfSquares),setupSquareEvents(),window.addEventListener("resize",debounce((()=>{monitorWidth=window.innerWidth,monitorHeight=window.innerHeight,squareSize=calculateSquareSize(monitorWidth,monitorHeight);const e=calculateSquareAmount(monitorWidth,monitorHeight,squareSize);e!==amountOfSquares&&(amountOfSquares=e,squares.innerHTML="",createSquares(squares,amountOfSquares),setupSquareEvents())}),200));